{
  "frontendToHost": {
    "$ref": "#/definitions/FrontendToHostMessage",
    "definitions": {
      "FrontendToHostMessage": {
        "anyOf": [
          {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "save"
              },
              "payload": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "object",
                    "properties": {
                      "units": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "integer"
                            },
                            "name": {
                              "type": "string"
                            },
                            "tags": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            }
                          },
                          "additionalProperties": true
                        }
                      },
                      "formations": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "integer"
                            },
                            "name": {
                              "type": "string"
                            },
                            "nationId": {
                              "type": "integer"
                            }
                          },
                          "additionalProperties": true
                        }
                      },
                      "nations": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "integer"
                            },
                            "name": {
                              "type": "string"
                            }
                          },
                          "additionalProperties": true
                        }
                      }
                    },
                    "additionalProperties": true
                  },
                  "weapons": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "name": {
                          "type": "string"
                        },
                        "ammoId": {
                          "type": "string"
                        }
                      },
                      "additionalProperties": true
                    }
                  },
                  "ammo": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "name": {
                          "type": "string"
                        }
                      },
                      "additionalProperties": true
                    }
                  },
                  "fireModes": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "name": {
                          "type": "string"
                        }
                      },
                      "additionalProperties": true
                    }
                  },
                  "weaponTags": {
                    "type": "object",
                    "additionalProperties": {}
                  },
                  "settings": {
                    "type": "object",
                    "additionalProperties": {}
                  }
                },
                "additionalProperties": true
              }
            },
            "required": [
              "type",
              "payload"
            ],
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "request-load"
              }
            },
            "required": [
              "type"
            ],
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "host-info-request"
              }
            },
            "required": [
              "type"
            ],
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "get-units"
              }
            },
            "required": [
              "type"
            ],
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "save-unit"
              },
              "payload": {
                "type": "object",
                "properties": {
                  "unit": {
                    "$ref": "#/definitions/FrontendToHostMessage/anyOf/0/properties/payload/properties/data/properties/units/items"
                  }
                },
                "required": [
                  "unit"
                ],
                "additionalProperties": false
              }
            },
            "required": [
              "type",
              "payload"
            ],
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "delete-unit"
              },
              "payload": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "integer"
                  }
                },
                "required": [
                  "id"
                ],
                "additionalProperties": false
              }
            },
            "required": [
              "type",
              "payload"
            ],
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "get-formations"
              }
            },
            "required": [
              "type"
            ],
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "save-formations"
              },
              "payload": {
                "type": "object",
                "properties": {
                  "formations": {
                    "type": "array",
                    "items": {
                      "$ref": "#/definitions/FrontendToHostMessage/anyOf/0/properties/payload/properties/data/properties/formations/items"
                    }
                  }
                },
                "required": [
                  "formations"
                ],
                "additionalProperties": false
              }
            },
            "required": [
              "type",
              "payload"
            ],
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "get-nations"
              }
            },
            "required": [
              "type"
            ],
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "save-nations"
              },
              "payload": {
                "type": "object",
                "properties": {
                  "nations": {
                    "type": "array",
                    "items": {
                      "$ref": "#/definitions/FrontendToHostMessage/anyOf/0/properties/payload/properties/data/properties/nations/items"
                    }
                  }
                },
                "required": [
                  "nations"
                ],
                "additionalProperties": false
              }
            },
            "required": [
              "type",
              "payload"
            ],
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "get-settings"
              }
            },
            "required": [
              "type"
            ],
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "save-settings"
              },
              "payload": {
                "$ref": "#/definitions/FrontendToHostMessage/anyOf/0/properties/payload/properties/settings"
              }
            },
            "required": [
              "type",
              "payload"
            ],
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "get-weapons"
              }
            },
            "required": [
              "type"
            ],
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "save-weapons"
              },
              "payload": {
                "type": "object",
                "properties": {
                  "weapons": {
                    "type": "array",
                    "items": {
                      "$ref": "#/definitions/FrontendToHostMessage/anyOf/0/properties/payload/properties/weapons/items"
                    }
                  }
                },
                "required": [
                  "weapons"
                ],
                "additionalProperties": false
              }
            },
            "required": [
              "type",
              "payload"
            ],
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "get-ammo"
              }
            },
            "required": [
              "type"
            ],
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "save-ammo"
              },
              "payload": {
                "type": "object",
                "properties": {
                  "ammo": {
                    "type": "array",
                    "items": {
                      "$ref": "#/definitions/FrontendToHostMessage/anyOf/0/properties/payload/properties/ammo/items"
                    }
                  }
                },
                "required": [
                  "ammo"
                ],
                "additionalProperties": false
              }
            },
            "required": [
              "type",
              "payload"
            ],
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "get-fire-modes"
              }
            },
            "required": [
              "type"
            ],
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "save-fire-modes"
              },
              "payload": {
                "type": "object",
                "properties": {
                  "fireModes": {
                    "type": "array",
                    "items": {
                      "$ref": "#/definitions/FrontendToHostMessage/anyOf/0/properties/payload/properties/fireModes/items"
                    }
                  }
                },
                "required": [
                  "fireModes"
                ],
                "additionalProperties": false
              }
            },
            "required": [
              "type",
              "payload"
            ],
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "get-weapon-tags"
              }
            },
            "required": [
              "type"
            ],
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "save-weapon-tags"
              },
              "payload": {
                "$ref": "#/definitions/FrontendToHostMessage/anyOf/0/properties/payload/properties/weaponTags"
              }
            },
            "required": [
              "type",
              "payload"
            ],
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "get-server-logs"
              }
            },
            "required": [
              "type"
            ],
            "additionalProperties": false
          }
        ]
      }
    },
    "$schema": "http://json-schema.org/draft-07/schema#"
  },
  "hostToFrontend": {
    "$ref": "#/definitions/HostToFrontendMessage",
    "definitions": {
      "HostToFrontendMessage": {
        "anyOf": [
          {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "load"
              },
              "payload": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "object",
                    "properties": {
                      "units": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "integer"
                            },
                            "name": {
                              "type": "string"
                            },
                            "tags": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            }
                          },
                          "additionalProperties": true
                        }
                      },
                      "formations": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "integer"
                            },
                            "name": {
                              "type": "string"
                            },
                            "nationId": {
                              "type": "integer"
                            }
                          },
                          "additionalProperties": true
                        }
                      },
                      "nations": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "integer"
                            },
                            "name": {
                              "type": "string"
                            }
                          },
                          "additionalProperties": true
                        }
                      }
                    },
                    "additionalProperties": true
                  },
                  "weapons": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "name": {
                          "type": "string"
                        },
                        "ammoId": {
                          "type": "string"
                        }
                      },
                      "additionalProperties": true
                    }
                  },
                  "ammo": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "name": {
                          "type": "string"
                        }
                      },
                      "additionalProperties": true
                    }
                  },
                  "fireModes": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "name": {
                          "type": "string"
                        }
                      },
                      "additionalProperties": true
                    }
                  },
                  "weaponTags": {
                    "type": "object",
                    "additionalProperties": {}
                  },
                  "settings": {
                    "type": "object",
                    "additionalProperties": {}
                  }
                },
                "additionalProperties": true
              }
            },
            "required": [
              "type",
              "payload"
            ],
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "units-data"
              },
              "payload": {
                "type": "object",
                "properties": {
                  "units": {
                    "type": "array",
                    "items": {
                      "$ref": "#/definitions/HostToFrontendMessage/anyOf/0/properties/payload/properties/data/properties/units/items"
                    }
                  }
                },
                "additionalProperties": true
              }
            },
            "required": [
              "type",
              "payload"
            ],
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "formations-data"
              },
              "payload": {
                "type": "object",
                "properties": {
                  "formations": {
                    "type": "array",
                    "items": {
                      "$ref": "#/definitions/HostToFrontendMessage/anyOf/0/properties/payload/properties/data/properties/formations/items"
                    }
                  }
                },
                "additionalProperties": true
              }
            },
            "required": [
              "type",
              "payload"
            ],
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "nations-data"
              },
              "payload": {
                "type": "object",
                "properties": {
                  "nations": {
                    "type": "array",
                    "items": {
                      "$ref": "#/definitions/HostToFrontendMessage/anyOf/0/properties/payload/properties/data/properties/nations/items"
                    }
                  }
                },
                "additionalProperties": true
              }
            },
            "required": [
              "type",
              "payload"
            ],
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "settings-data"
              },
              "payload": {
                "$ref": "#/definitions/HostToFrontendMessage/anyOf/0/properties/payload/properties/settings"
              }
            },
            "required": [
              "type",
              "payload"
            ],
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "weapons-data"
              },
              "payload": {
                "type": "object",
                "properties": {
                  "weapons": {
                    "type": "array",
                    "items": {
                      "$ref": "#/definitions/HostToFrontendMessage/anyOf/0/properties/payload/properties/weapons/items"
                    }
                  }
                },
                "additionalProperties": true
              }
            },
            "required": [
              "type",
              "payload"
            ],
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "ammo-data"
              },
              "payload": {
                "type": "object",
                "properties": {
                  "ammo": {
                    "type": "array",
                    "items": {
                      "$ref": "#/definitions/HostToFrontendMessage/anyOf/0/properties/payload/properties/ammo/items"
                    }
                  }
                },
                "additionalProperties": true
              }
            },
            "required": [
              "type",
              "payload"
            ],
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "fire-modes-data"
              },
              "payload": {
                "type": "object",
                "properties": {
                  "fireModes": {
                    "type": "array",
                    "items": {
                      "$ref": "#/definitions/HostToFrontendMessage/anyOf/0/properties/payload/properties/fireModes/items"
                    }
                  }
                },
                "additionalProperties": true
              }
            },
            "required": [
              "type",
              "payload"
            ],
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "weapon-tags-data"
              },
              "payload": {
                "$ref": "#/definitions/HostToFrontendMessage/anyOf/0/properties/payload/properties/weaponTags"
              }
            },
            "required": [
              "type",
              "payload"
            ],
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "host-info"
              },
              "payload": {
                "type": "object",
                "properties": {
                  "version": {
                    "type": "string"
                  },
                  "databasePath": {
                    "type": "string"
                  },
                  "dataDirectory": {
                    "type": "string"
                  },
                  "mode": {
                    "type": "string"
                  },
                  "server": {
                    "type": "object",
                    "properties": {
                      "baseUrl": {
                        "type": "string"
                      },
                      "port": {
                        "type": "number"
                      },
                      "token": {
                        "type": "string"
                      },
                      "startedAt": {
                        "type": "string"
                      }
                    },
                    "additionalProperties": true
                  }
                },
                "required": [
                  "version",
                  "databasePath",
                  "dataDirectory",
                  "mode"
                ],
                "additionalProperties": false
              }
            },
            "required": [
              "type",
              "payload"
            ],
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "server-logs"
              },
              "payload": {
                "type": "object",
                "properties": {
                  "entries": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "timestamp": {
                          "type": "string"
                        },
                        "level": {
                          "type": "string"
                        },
                        "category": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        },
                        "exception": {
                          "type": [
                            "string",
                            "null"
                          ]
                        },
                        "statusCode": {
                          "anyOf": [
                            {
                              "type": "integer"
                            },
                            {
                              "type": "null"
                            }
                          ]
                        },
                        "durationMs": {
                          "type": [
                            "number",
                            "null"
                          ]
                        }
                      },
                      "required": [
                        "message"
                      ],
                      "additionalProperties": false
                    }
                  }
                },
                "required": [
                  "entries"
                ],
                "additionalProperties": false
              }
            },
            "required": [
              "type",
              "payload"
            ],
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "server-log-event"
              },
              "payload": {
                "$ref": "#/definitions/HostToFrontendMessage/anyOf/10/properties/payload/properties/entries/items"
              }
            },
            "required": [
              "type",
              "payload"
            ],
            "additionalProperties": false
          }
        ]
      }
    },
    "$schema": "http://json-schema.org/draft-07/schema#"
  }
}